{"version":3,"sources":["gamelogic/game.js","gamelogic/liveUnit.js","gamelogic/player.js","gamelogic/unitModels.js","gamelogic/abilities.js","services/cookieService.ts","services/apolloClient.ts","services/userService.ts","components/auth.tsx","model/routeStates.model.ts","components/menu.tsx","components/unit.tsx","services/displayedGameService.ts","components/game.tsx","services/clientgameService.ts","services/gameListService.ts","components/gameList.tsx","App.tsx","reportWebVitals.ts","index.tsx","services/gameService.js","model/gameStates.model.js"],"names":["__spreadArrays","this","s","i","il","arguments","length","r","Array","k","a","j","jl","Object","defineProperty","exports","value","Game","liveUnit_1","require","args","_this","initializeGame","players","map","player","units","initializeUnits","playerUnits","unitModels","unitModel","idx","GameUnit","insertUnits","unit","id","filterDeadUnits","filter","life","applyAbility","applyingUnit","unitAbility","recivingUnit","recivingUnits","targets","updatedUnits","ability","apply","changeTurn","getUnitsByPlayer","_a","checkForWinner","gameService","endGame","winner","switchToNextPlayer","turn","players_left","idxCurrentPlayerInc","indexOf","currentPlayer","idxNextPlayer","players_to_remove","remaining_players","push","name","getWinner","console","log","maxlife","abilities","Player","unitModels_1","playerSetup","username","userID","Knight","alive","Witch","Healer","abilities_1","data","Attack","damage","timeout","Heal","Burn","__assign","assign","t","n","p","prototype","hasOwnProperty","call","Math","min","CookieNameEnum","httpLink","HttpLink","uri","wsLink","WebSocketLink","options","reconnect","splitLink","split","query","definition","getMainDefinition","kind","operation","apolloClient","ApolloClient","link","cache","InMemoryCache","cookieService","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","ca","decodeURIComponent","c","charAt","substring","UserService","sessionID","SESSIONID","mutate","variables","mutation","gql","then","res","checkAuth","catch","err","login","loginData","password","confirmPassword","register","instance","Auth","props","userService","getInstance","useState","showRegister","setShowRegister","message","loginMessage","setLoginMessage","useEffect","setLoginData","onInputChange","e","target","className","onClick","onSubmit","preventDefault","type","onChange","routeStates","Menu","routeState","route","setRoute","Unit","selectedUnit","setSelectedUnit","selectedAbilty","setSelectedAbilty","executeAbility","dispatchAbility","game","u","DisplayedGameService","displayedGameService","setDisplayedGameService","getDisplayedGameService","setUnits","turnState","setTurn","setWinner","incTurn","selectedUnitState","selectedAbilityState","setSelectedAbility","gameID","ClientGameService","applyingUnitID","createUnitID","unitAbilityName","recivingUnitID","recivingUnitIDs","setUpSubscription","self","subscribe","next","obj","sendTurn","callApplyAbility","GameService","GameListService","activeGames","subscription","setGameList","getGameList","getGameListQuery","gameListSubscription","gameList","openGame","joinGame","gameStub","returnedGameData","updateGameList","startNewGame","startGame","filteredGames","newGameList","gameName","gameState","newClientGameService","GameList","gameListService","GameStateEnum","OPEN","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","game_1","player_1","initPlayers","playerstub","checkCurrentPlayerByID","getUnitbyUnitID","unitID","gameServiceObserver"],"mappings":"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","file":"static/js/main.fb2ec46b.chunk.js","sourcesContent":["\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Game = void 0;\nvar liveUnit_1 = require(\"./liveUnit\");\nvar Game = /** @class */ (function () {\n    function Game(args) {\n        var _this = this;\n        this.initializeGame = function () {\n            return _this.players.map(function (player) { return player.units = _this.initializeUnits(player); });\n        };\n        this.initializeUnits = function (player) {\n            var playerUnits = player.unitModels.map(function (unitModel, idx) { return new liveUnit_1.GameUnit(idx, player, unitModel); });\n            _this.units = __spreadArrays(_this.units, playerUnits);\n            return playerUnits;\n        };\n        this.insertUnits = function (units) {\n            for (var i in units)\n                _this.units = _this.units.map(function (unit) { return (units[i].id === unit.id && units[i].player.id === unit.player.id) ? units[i] : unit; });\n        };\n        this.filterDeadUnits = function (units) {\n            return units.filter(function (unit) { return unit.life != 0; });\n        };\n        this.applyAbility = function (applyingUnit, unitAbility, recivingUnit, recivingUnits) {\n            switch (unitAbility.targets[0]) {\n                case 'Clicked': {\n                    var updatedUnits = unitAbility.ability.apply(applyingUnit, unitAbility, _this.filterDeadUnits([recivingUnit]));\n                    _this.insertUnits(updatedUnits);\n                    _this.changeTurn();\n                    return;\n                }\n                case 'All_by_Player': {\n                    var updatedUnits = unitAbility.ability.apply(applyingUnit, unitAbility, _this.filterDeadUnits(recivingUnits));\n                    _this.insertUnits(updatedUnits);\n                    _this.changeTurn();\n                    return;\n                }\n                default: {\n                    _this.changeTurn();\n                    return;\n                }\n            }\n        };\n        this.getUnitsByPlayer = function (player) {\n            return _this.units.filter(function (unit) { return unit.player === player; });\n        };\n        this.changeTurn = function () {\n            var _a;\n            if (_this.checkForWinner()) {\n                (_a = _this.gameService) === null || _a === void 0 ? void 0 : _a.endGame(_this.winner);\n            }\n            else {\n                _this.switchToNextPlayer();\n                _this.turn++;\n            }\n        };\n        this.switchToNextPlayer = function () {\n            var players_left = _this.players.length;\n            var idxCurrentPlayerInc = _this.players.indexOf(_this.currentPlayer) + 1;\n            var idxNextPlayer = players_left === idxCurrentPlayerInc ? 0 : idxCurrentPlayerInc;\n            _this.currentPlayer = _this.players[idxNextPlayer];\n        };\n        this.checkForWinner = function () {\n            var players_to_remove = [];\n            for (var i in _this.remaining_players) {\n                var remainingUnits = _this.units.filter(function (unit) {\n                    return unit.life > 0 &&\n                        unit.player.id === _this.remaining_players[i].id;\n                }).length;\n                if (remainingUnits === 0)\n                    players_to_remove.push(_this.remaining_players[i]);\n            }\n            for (var i in players_to_remove)\n                _this.remaining_players = _this.remaining_players.filter(function (player) { return player.name != players_to_remove[i].name; });\n            if (_this.remaining_players.length === 1) {\n                _this.winner = _this.remaining_players[0];\n                return true;\n            }\n            return false;\n        };\n        this.getWinner = function () { return _this.winner; };\n        this.gameService = args.gameService;\n        this.players = args.players;\n        this.remaining_players = this.players;\n        this.turn = args.turn || 0;\n        this.currentPlayer = args.currentPlayer || args.players[0];\n        this.units = [];\n        this.initializeGame();\n    }\n    return Game;\n}());\nexports.Game = Game;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GameUnit = void 0;\nvar GameUnit = /** @class */ (function () {\n    function GameUnit(id, player, unitModel) {\n        this.id = id;\n        this.player = player;\n        console.log('Live unit');\n        this.name = unitModel.name;\n        this.life = unitModel.maxlife;\n        this.maxlife = unitModel.maxlife;\n        this.abilities = unitModel.abilities;\n    }\n    return GameUnit;\n}());\nexports.GameUnit = GameUnit;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Player = void 0;\nvar unitModels_1 = require(\"./unitModels\");\nvar Player = /** @class */ (function () {\n    function Player(playerSetup, id) {\n        this.name = playerSetup.username;\n        this.id = id;\n        this.userID = playerSetup.userID;\n        // this.unitModels = [Knight, Knight, Healer]\n        this.unitModels = [unitModels_1.Knight];\n        this.units = [];\n        this.alive = true;\n    }\n    return Player;\n}());\nexports.Player = Player;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Witch = exports.Healer = exports.Knight = exports.GameUnit = void 0;\nvar abilities_1 = require(\"./abilities\");\nvar GameUnit = /** @class */ (function () {\n    function GameUnit(data) {\n        this.name = data.name;\n        this.maxlife = data.maxlife;\n        this.abilities = data.abilities;\n    }\n    return GameUnit;\n}());\nexports.GameUnit = GameUnit;\nexports.Knight = {\n    name: 'Knight',\n    maxlife: 40,\n    abilities: [{\n            name: abilities_1.Attack.name,\n            damage: 10,\n            timeout: 1,\n            targets: ['Clicked'],\n            ability: abilities_1.Attack\n        }]\n};\nexports.Healer = {\n    name: 'Healer',\n    maxlife: 20,\n    abilities: [{\n            name: abilities_1.Heal.name,\n            damage: 6,\n            targets: ['All_by_Player'],\n            timeout: 2,\n            ability: abilities_1.Heal\n        }]\n};\nexports.Witch = {\n    name: 'Healer',\n    maxlife: 10,\n    abilities: [{\n            name: abilities_1.Burn.name,\n            damage: 10,\n            timeout: 3,\n            targets: ['All_by_Enemy'],\n            ability: abilities_1.Burn\n        }]\n};\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Burn = exports.Heal = exports.Attack = void 0;\nexports.Attack = {\n    name: 'Attack',\n    targets: ['Enemy'],\n    apply: function (applyingUnit, unitAbility, recivingUnits) { return (recivingUnits.map(function (unit) { return (__assign(__assign({}, unit), { life: Math.min(unit.maxlife, unit.life - unitAbility.damage) })); })); }\n};\nexports.Heal = {\n    name: 'Heal',\n    targets: ['Ally'],\n    apply: function (applyingUnit, unitAbility, recivingUnits) { return (recivingUnits.map(function (unit) { return (__assign(__assign({}, unit), { life: Math.min(unit.maxlife, unit.life + unitAbility.damage) })); })); }\n};\nexports.Burn = {\n    name: 'Burn',\n    targets: ['Enemy'],\n    apply: function (applyingUnit, unitAbility, recivingUnits) { return (recivingUnits.map(function (unit) { return (__assign(__assign({}, unit), { life: Math.min(unit.maxlife, unit.life - unitAbility.damage) })); })); }\n};\n","\nexport enum CookieNameEnum {\n  SESSIONID = \"SESSIONID\",\n}\n\nexport const cookieService = {\n\n  setCookie: (cname, cvalue, exdays) => {\n    var d = new Date();\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\n    var expires = \"expires=\"+ d.toUTCString();\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n  },\n\n  // setAuthCookie: (type:CookieNameEnum,value) => {\n  //   var d = new Date();\n  //   d.setTime(d.getTime() + (24*60*60*1000));\n  //   var expires = \"expires=\"+ d.toUTCString();\n  //   document.cookie = \"ID=\" + id + \";\" + expires + \";path=/\";\n  // },\n\n  getCookie: (cname:CookieNameEnum) => {\n    var name = cname + \"=\";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(';');\n    for(var i = 0; i <ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) == ' ') {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n    return \"\";\n  },\n\n}\n","\nimport { ApolloClient, InMemoryCache, HttpLink, split, gql } from '@apollo/client';\nimport { WebSocketLink } from '@apollo/client/link/ws';\nimport { getMainDefinition } from 'apollo-utilities';\n\nconst httpLink = new HttpLink({\n  uri: 'http://localhost:4444/graphql'\n});\n\nconst wsLink = new WebSocketLink({\n  uri: 'ws://localhost:4444/graphql',\n  options: {\n    reconnect: true\n  }\n});\n\n// The split function takes three parameters:\n//\n// * A function that's called for each operation to execute\n// * The Link to use for an operation if the function returns a \"truthy\" value\n// * The Link to use for an operation if the function returns a \"falsy\" value\nconst splitLink = split(\n  ({ query }) => {\n    const definition = getMainDefinition(query);\n    return (\n      definition.kind === 'OperationDefinition' &&\n      definition.operation === 'subscription'\n    );\n  },\n  wsLink,\n  httpLink,\n);\n\n// Instantiate client\nexport const apolloClient = new ApolloClient({\n  link: splitLink,\n  uri: \"http://localhost:4444/graphql\",\n  // uri: \"/graphql\",\n  cache: new InMemoryCache()\n})\n","\nimport { gql } from '@apollo/client';\nimport { apolloClient } from './apolloClient'\nimport { cookieService, CookieNameEnum } from './cookieService'\n\nexport interface ILoginData {\n  username: String\n  password: String\n  confirmPassword: String\n}\n\nexport interface IUserService {\n  userID:String\n  sessionID:String\n  login(loginData:ILoginData):Promise<any>\n  register(loginData:ILoginData):Promise<any>\n  checkAuth():Promise<any>\n}\n\nexport class UserService implements IUserService {\n\n  public userID: String\n  public sessionID: String\n  private static instance: IUserService\n\n  private constructor () {\n    this.sessionID = cookieService.getCookie(CookieNameEnum.SESSIONID)\n  }\n\n  public static getInstance(): IUserService {\n    if (!UserService.instance)\n      UserService.instance = new UserService()\n\n    return UserService.instance\n  }\n\n  public async checkAuth() {\n    return await apolloClient.mutate({\n      variables: {\n        sessionID: this.sessionID,\n      },\n      mutation: gql`\n        mutation CheckAuth(\n          $sessionID: String\n        ) {\n          checkAuth(\n            sessionID: $sessionID\n          ) {\n            userID\n            message\n          }\n        }\n      `\n    })\n    .then(res => {\n      this.userID = res.data.checkAuth.userID\n      return res.data\n    })\n    .catch(err => {\n      console.log('checkAuth Error')\n      console.log(err)\n      console.log(err.data?.login)\n      return err.data\n    })\n  }\n\n  public async login(loginData) {\n    return await apolloClient.mutate({\n      variables: {\n        username: loginData.username,\n        password: loginData.password,\n      },\n      mutation: gql`\n        mutation Login(\n          $username: String\n          $password: String\n        ) {\n          login(\n            username: $username\n            password: $password\n          ) {\n            userID\n            sessionID\n            message\n          }\n        }\n      `\n    })\n    .then(res => {\n      this.userID = res.data.login.userID\n      this.sessionID = res.data.login.sessionID\n      return res.data\n    })\n    .catch(err => {\n      console.log('Login Error')\n      console.log(err)\n      console.log(err.data.login)\n      return err.data\n    })\n  }\n\n  public async register(loginData) {\n    return apolloClient.mutate({\n      variables: {\n        username: loginData.username,\n        password:loginData.password,\n        confirmPassword:loginData.confirmPassword,\n      },\n      mutation: gql`\n        mutation Register(\n          $username: String\n          $password: String\n          $confirmPassword: String\n        ) {\n          register(\n            username: $username\n            password: $password\n            confirmPassword: $confirmPassword\n          ) {\n            userID\n            sessionID\n            message\n          }\n        }\n      `\n    })\n    .then(res => {\n      this.userID = res.data.register.userID\n      this.sessionID = res.data.register.sessionID\n      return res.data\n    })\n    .catch(err => {\n      console.log('Register Error')\n      console.log(err)\n      console.log(err.data.login)\n      return err.data\n    })\n  }\n\n}\n","import { FC, useState, useEffect} from 'react'\n\nimport './scss/auth.scss'\nimport { UserService } from \"../services/userService\"\nimport { cookieService, CookieNameEnum } from \"../services/cookieService\"\nimport { IloginResult } from '../interfaces/loginResult'\n\nlet Auth: FC<{\n\n}> = (props) => {\n\n  const userService = UserService.getInstance()\n\n  const [showRegister, setShowRegister] = useState<Boolean>(false)\n  const [loginMessage, setLoginMessage] = useState<IloginResult>({\n    userID: null,\n    sessionID: null,\n    message: \"\",\n  })\n\n  useEffect(() => {\n    const userID = userService.userID\n    const sessionID = userService.sessionID\n    userService.checkAuth()\n    .then(res =>  {\n      if (res.checkAuth.userID) {\n        setLoginMessage({\n          userID,\n          sessionID,\n          message: res.checkAuth.message,\n        })\n      }\n    })\n    .catch(err => {\n      console.log('checkAuth Error')\n      console.log(err.login)\n    })\n  },[])\n\n  const [loginData, setLoginData] = useState({\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  })\n\n  const { username, password, confirmPassword } = loginData\n\n  const onInputChange = (e) => {\n    setLoginData({\n      ...loginData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n    if (!showRegister) {\n      userService.login(loginData)\n      .then(res =>  {\n        cookieService.setCookie(CookieNameEnum.SESSIONID, res.login.sessionID, 1)\n        setLoginMessage(res.login)\n      })\n      .catch(err => {\n        console.log('loginResult Error')\n        console.log(err.login)\n      })\n    } else {\n      userService.register(loginData)\n      .then(res =>  {\n        setLoginMessage(res.register)\n      })\n      .catch(err => {\n        console.log('registerResult Error')\n        console.log(err.register)\n      })\n    }\n\n  }\n\n  const onClickRegister = (e) =>\n    setShowRegister(true)\n\n  const onClickLogin = (e) =>\n    setShowRegister(false)\n\n  return (\n    <div className=\"auth\">\n      <div className=\"user\">\n      { !loginMessage.sessionID &&\n        <div>\n          <div className=\"authlinks\">\n            <span\n              className=\"authlink\"\n              onClick={onClickLogin}\n            >Login</span>\n            <span> / </span>\n            <span\n              className=\"authlink\"\n              onClick={onClickRegister}\n            >Register</span>\n          </div>\n\n          <form onSubmit={onSubmit}>\n            <label>Username</label>\n            <input\n              name=\"username\"\n              type=\"text\"\n              value={username}\n              onChange={onInputChange}\n            />\n            <label>Password</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={onInputChange}\n            />\n            {\n              showRegister &&\n              <div>\n                <label>Confirm Password</label>\n                <input\n                  type=\"password\"\n                  name=\"confirmPassword\"\n                  value={confirmPassword}\n                  onChange={onInputChange}\n                />\n              </div>\n            }\n            <button type=\"submit\">Submit</button>\n          </form>\n        </div>\n      }\n        <div\n          className={loginMessage.sessionID ? \"loginMessage success\" : \"loginMessage failure\"}\n        >{loginMessage.message}</div>\n      </div>\n    </div>\n  )\n}\n\n\nexport default Auth\n","\nexport const routeStates = {\n  GAMELIST: 'gameList',\n  GAME: 'game',\n};\n","\nimport { FC, useState } from 'react'\n\nimport './scss/menu.scss'\nimport Auth from './auth'\nimport { routeStates } from '../model/routeStates.model'\n\nlet Menu: FC<{\n  routeState:[String,Function]\n}> = (props) => {\n\n  let [route, setRoute] = props.routeState\n\n  return (\n    <div className=\"menu\">\n\n      <Auth />\n\n      <ul className=\"menulist\">\n        <li onClick={e => setRoute(routeStates.GAMELIST)}>\n          GameList\n          {route === routeStates.GAMELIST && <span> &lt;-</span>}\n        </li>\n        <li onClick={e => setRoute(routeStates.GAME)}>\n          Game\n          {route === routeStates.GAME && <span> &lt;-</span>}\n        </li>\n      </ul>\n\n    </div>\n  )\n}\n\n\nexport default Menu\n","import { FC, useState } from 'react'\n\nimport { IUnitAbility } from '../gamelogic/unitModels'\nimport { ILiveUnit } from '../gamelogic/liveUnit'\nimport { IGameService } from '../services/gameService'\nimport { UserService } from '../services/userService'\n\nimport './scss/unit.scss'\n\nlet Unit: FC<{\n  unit:ILiveUnit\n  turn:[number,Function]\n  gameService: IGameService\n  selectedAbilty:[IUnitAbility|null,Function]\n  selectedUnit:[ILiveUnit|null,Function]\n}> = (props) => {\n\n  const gameService = props.gameService\n\n  const unit = props.unit\n  const [selectedUnit, setSelectedUnit] = props.selectedUnit\n  const [selectedAbilty, setSelectedAbilty] = props.selectedAbilty\n  const [turn, setTurn] = props.turn\n\n  const executeAbility = () => {\n    console.log('executeAbility')\n    gameService.dispatchAbility(\n      selectedUnit,\n      selectedAbilty,\n      unit,\n      gameService.game.units.filter(u => u.player.name === unit.player.name)\n    )\n    setSelectedUnit(null)\n    setSelectedAbilty(null)\n  }\n\n  return (\n      <div\n        className={\"Unit\" + (selectedUnit === unit ? \" selectedUnit\": \"\")}\n        onClick={e => {\n            //Check whose turn it is\n            if (turn%2+1 === unit.player.id && UserService.getInstance().userID === unit.player.userID) {\n              if (selectedAbilty && selectedAbilty.ability.targets[0] === 'Ally') {\n                executeAbility()\n              } else {\n                if (selectedUnit === null || unit.player.id === selectedUnit.player.id) {\n                  setSelectedUnit((selectedUnit !== unit && unit.life > 0 ) ? unit : null)\n                  setSelectedAbilty(null)\n                }\n                else console.log('no ability selected')\n              }\n            } else {\n              if (selectedUnit) {\n                if (selectedAbilty && selectedAbilty.ability.targets[0] === 'Enemy') {\n                  executeAbility()\n                } else console.log(\"Can't apply to enemy\")\n              } else console.log(\"It's not your unit\")\n            }\n          }\n        }>\n        <h4>{unit.name}</h4>\n        {/*}<h4>unitID: {unit.id}</h4> */}\n        <h6>{unit.life > 0 ? 'Alive' : 'Dead'}</h6>\n        <h6>{unit.player.name}</h6>\n        {/* }<h6>PlayerID: {unit.player.id}</h6> */}\n        <div>Life: <span>{unit.life > 0? unit.life : 0}</span></div>\n\n      </div>\n  )\n}\n\n\nexport default Unit\n","\nimport { IClientGameService } from './clientGameService'\n\nexport interface IDisplayedGameService {\n  setDisplayedGameService(gameService:IClientGameService):void\n  getDisplayedGameService():IClientGameService\n}\n\nexport class DisplayedGameService implements IDisplayedGameService {\n\n  private static instance: DisplayedGameService\n  private displayedGameService: IClientGameService\n\n  public static getInstance():DisplayedGameService {\n    if (!DisplayedGameService.instance)\n      DisplayedGameService.instance = new DisplayedGameService()\n\n    return DisplayedGameService.instance\n  }\n\n  public setDisplayedGameService = (gameService:IClientGameService) =>\n    this.displayedGameService = gameService\n\n  public getDisplayedGameService = () =>\n    this.displayedGameService\n\n}\n","\nimport { FC, useState, useEffect, Dispatch, SetStateAction } from 'react'\n\nimport './scss/game.scss'\n\nimport { IUnitAbility } from '../gamelogic/unitModels'\nimport Unit from './unit'\nimport { DisplayedGameService } from '../services/displayedGameService'\nimport { routeStates } from '../model/routeStates.model'\n\nexport let Game: FC<{\n  setRoute: Dispatch<SetStateAction<String>>\n}> = (props) => {\n\n  const gameService = DisplayedGameService.getInstance().getDisplayedGameService()\n  const setRoute = props.setRoute\n\n  const [units, setUnits] = useState(gameService.game?.units);\n  const turnState = useState(gameService.game.turn)\n  const [turn, setTurn] = turnState\n  const [winner, setWinner] = useState<String>(null)\n\n  gameService.incTurn = () => setTurn(turn+1)\n\n  useEffect(() => {\n    if (turn != gameService.game.turn && gameService.game.winner) {\n      setTurn(turn-1)\n      setWinner(gameService.game.winner.name)\n    }\n    setUnits(gameService.game.units)\n  },[turn])\n\n  const selectedUnitState = useState(null)\n  const [selectedUnit, setSelectedUnit] = selectedUnitState\n\n  const selectedAbilityState = useState<IUnitAbility|null>(null)\n  const [selectedAbilty, setSelectedAbility] = selectedAbilityState\n\n  return (\n    <div className=\"Game\">\n      <div className=\"Timer\">\n        Timer\n        <span>GameID: {gameService.gameID} - </span>\n      </div>\n      <div className=\"Turn\">\n\n        {winner &&\n          <div>\n            <span>The Game as Ended - The Winner is {winner}</span>\n            <button onClick={(e) =>\n              setRoute(routeStates.GAMELIST)\n            }>Leave Game</button>\n          </div>\n        }\n\n        <span>Turn: {turn}</span>\n        {!winner && <span> - CurrentPlayer: {turn%2+1} {gameService.game.currentPlayer.name}</span>}\n\n      </div>\n      <div className=\"Battle\">\n        {\n          units.filter(unit => unit.player.name == gameService.game.players[0].name).map((unit) =>\n            <Unit\n              key={unit.id}\n              unit={unit}\n              turn={turnState}\n              gameService={gameService}\n              selectedAbilty={selectedAbilityState}\n              selectedUnit={selectedUnitState}\n            />\n          )\n        }\n        <div className=\"Divider\">vs</div>\n        {\n          units.filter(unit => unit.player.name == gameService.game.players[1].name).map((unit) =>\n            <Unit\n              key={unit.id}\n              unit={unit}\n              turn={turnState}\n              gameService={gameService}\n              selectedAbilty={selectedAbilityState}\n              selectedUnit={selectedUnitState}\n            />\n          )\n        }\n\n      </div>\n\n      <div className=\"Controls\">\n        {\n          selectedUnit?.abilities.map((ability:IUnitAbility) =>\n            <div className={\"Control\" + (selectedAbilty === ability ? ' selected' : '')}\n              onClick={e => {\n                setSelectedAbility(ability)\n              }}\n            >\n            <span>{ability.ability.name}: {ability.damage}</span>\n            </div>\n          )\n        }\n      </div>\n    </div>\n  )\n}\n","\nimport { GameService, IGameService, UnitID } from './gameService'\nimport{ UserService } from './userService'\n\nimport { gql } from '@apollo/client';\nimport { apolloClient } from './apolloClient'\n\nimport { ILiveUnit } from '../gamelogic/liveUnit'\nimport { IUnitAbility} from '../gamelogic/unitModels'\n\nexport interface IClientGameService extends IGameService {\n  incTurn: Function\n}\n\nexport class ClientGameService extends GameService implements IClientGameService {\n\n  public incTurn: Function\n\n  constructor (args) {\n    super(args)\n    this.setUpSubscription()\n    this.incTurn = () => {console.log('incTurn() not Set')}\n  }\n\n  public dispatchAbility = (applyingUnit:ILiveUnit, unitAbility:IUnitAbility, recivingUnit:ILiveUnit, recivingUnits:ILiveUnit[]):void => {\n    console.log('this.gameID')\n    console.log(this.gameID)\n    apolloClient.mutate({\n      variables: {\n        gameID: this.gameID,\n        userID: UserService.getInstance().userID,\n        applyingUnitID: this.createUnitID(applyingUnit),\n        unitAbilityName: unitAbility.ability.name,\n        recivingUnitID: this.createUnitID(recivingUnit),\n        recivingUnitIDs: recivingUnits.map(unit => this.createUnitID(unit))\n      },\n      mutation: gql`\n        mutation ApplyAbility(\n          $gameID: ID,\n          $userID: ID,\n          $applyingUnitID: [ID],\n          $unitAbilityName: String,\n          $recivingUnitID: [ID],\n          $recivingUnitIDs: [[ID]]\n        ) {\n          applyAbility(\n            gameID: $gameID,\n            userID: $userID,\n            applyingUnitID: $applyingUnitID,\n            unitAbilityName: $unitAbilityName,\n            recivingUnitID: $recivingUnitID,\n            recivingUnitIDs: $recivingUnitIDs\n          )\n        }\n      `\n    })\n    // TBD Later\n    // .then(res => console.log(res))\n    .catch(err => console.log(err))\n  }\n\n  private setUpSubscription = () => {\n    const self = this\n    console.log('clientgameService - setUpSubscription')\n    console.log(this.gameID)\n    apolloClient.subscribe({\n      variables: {\n        gameID: this.gameID\n      },\n      query: gql`\n        subscription sendTurn ($gameID: ID) {\n          sendTurn (gameID: $gameID) {\n            applyingUnitID\n            unitAbilityName\n            recivingUnitID\n            recivingUnitIDs\n          }\n        }\n        `,\n    }).subscribe({\n      next (obj) {\n        const args = obj.data.sendTurn\n        console.log('clientgameService')\n        console.log(args)\n        self.callApplyAbility(\n          args.applyingUnitID,\n          args.unitAbilityName,\n          args.recivingUnitID,\n          args.recivingUnitIDs\n        )\n        self.incTurn()\n      }\n    })\n  }\n\n\n}\n","\nimport { gql } from '@apollo/client';\nimport { apolloClient } from './apolloClient'\n\nimport { UserService } from './userService'\nimport { ClientGameService } from './clientgameService'\nimport { DisplayedGameService } from './displayedGameService'\nimport { routeStates } from '../model/routeStates.model'\n\nexport interface IPlayerStub {\n  username: String\n  userID: String\n}\n\nexport interface IGameStub {\n  gameName: String\n  gameState: String\n  gameID: String\n  players: IPlayerStub[]\n}\n\nexport interface IGameListService {\n  activeGames: IGameStub[]\n  getGameList(setGameList:Function, setRoute:Function):void\n  openGame(): void\n  joinGame(gameStub:IGameStub): void\n}\n\nexport class GameListService implements IGameListService {\n\n  private static instance: GameListService\n\n  public activeGames:IGameStub[]\n  private subscription\n  private setGameList\n\n  private constructor () {\n    const demogame = {\n      gameName: \"Demogame\",\n      gameID: \"DemoID - 1\",\n      gameState: 'Open',\n      players: [{\n        userID: \"Test\",\n        username: \"Testuser\",\n      }],\n    }\n\n    this.activeGames = [demogame]\n    // this.subscription = null\n  }\n\n  public static getInstance():GameListService {\n    if (!GameListService.instance)\n      GameListService.instance = new GameListService()\n\n    return GameListService.instance\n  }\n\n  public getGameList = (setGameList, setRoute) => {\n\n    this.setGameList = setGameList\n\n    if (!this.subscription) {\n      this.getGameListQuery()\n      console.log('getGameList - gameListSubscription')\n      this.subscription = this.gameListSubscription(setRoute)\n    }\n\n  }\n\n  private getGameListQuery = () =>\n    apolloClient.query({\n      query: gql`{\n        getGameList {\n          gameID\n          gameName\n          gameState\n          players {\n            userID\n            username\n          }\n        }\n      }`\n    })\n    .then(res => {\n      const gameList = res.data.getGameList\n      this.activeGames = gameList\n      this.setGameList(gameList)\n    })\n    .catch(err => {\n      console.log('getGameList - Error: ')\n      console.log(err)\n    })\n\n  public openGame = () =>\n    apolloClient.mutate({\n      variables: {\n        userID: UserService.getInstance().userID,\n      },\n      mutation: gql`\n        mutation OpenGame(\n          $userID: ID\n        ){\n          openGame(\n            userID: $userID\n          )\n        }\n      `,\n    })\n    .then(res => res)\n    .catch(err => {\n      console.log('openGame - Error:')\n      console.log(err)\n    })\n\n  public joinGame = (gameStub) =>\n    apolloClient.mutate({\n      variables: {\n        userID: UserService.getInstance().userID,\n        gameID: gameStub.gameID,\n      },\n      mutation: gql`\n        mutation JoinGame(\n          $userID: ID\n          $gameID: ID\n        ){\n          joinGame(\n            userID: $userID\n            gameID: $gameID\n          )\n        }\n      `,\n    })\n    .then(res => res)\n    .catch(err => {\n      console.log('joinGame - Error:')\n      console.log(err)\n    })\n\n  private gameListSubscription = (setRoute) => {\n    const self = this\n    return apolloClient.subscribe({\n      variables: {\n        userID: UserService.getInstance().userID\n      },\n      query: gql`\n        subscription onNewGame {\n          updateGameList {\n            startNewGame\n            gameName\n            gameID\n            gameState\n            players {\n              userID\n              username\n            }\n          }\n        }`,\n    }).subscribe({\n      next (obj) {\n\n        console.log('gameListSubscription')\n        const returnedGameData = obj.data.updateGameList\n        console.log(returnedGameData)\n\n        self.updateGameList(returnedGameData)\n\n        if (\n          returnedGameData.startNewGame &&\n          returnedGameData.players.length === 2 &&\n          returnedGameData.players.filter(player => player.userID === UserService.getInstance().userID).length != 0\n        ) self.startGame(returnedGameData, setRoute)\n\n      }\n    })\n  }\n\n  private updateGameList = (returnedGameData) => {\n    const filteredGames = this.activeGames.filter(game => game.gameID != returnedGameData.gameID)\n    const newGameList = [...filteredGames, {\n      gameID: returnedGameData.gameID,\n      gameName: returnedGameData.gameName,\n      gameState: returnedGameData.gameState,\n      players: returnedGameData.players,\n    }]\n\n    this.activeGames = newGameList\n    this.setGameList(newGameList)\n  }\n\n  private startGame = (game, setRoute) => {\n\n    const newClientGameService = new ClientGameService({\n      gameID: game.gameID,\n      players: game.players\n    })\n\n    DisplayedGameService.getInstance().setDisplayedGameService(newClientGameService)\n\n    setRoute(routeStates.GAME)\n  }\n\n}\n","\nimport { FC, useState, useEffect } from 'react'\n\nimport { GameListService, IGameStub } from '../services/gameListService'\nimport './scss/gameList.scss'\n\nimport { GameStateEnum } from '../model/gameStates.model'\n\nexport let GameList: FC<{\n  setRoute: Function\n}> = (props) => {\n\n  const gameListService = GameListService.getInstance()\n  const [gameList, setGameList] = useState<IGameStub[]>(gameListService.activeGames)\n\n  useEffect(() => {\n    gameListService.getGameList(setGameList, props.setRoute)\n  }, [])\n\n  return (\n    <div className=\"gameListComponent\">\n\n      <h1>Gamelist</h1>\n      <div className=\"openGame\">\n        <button onClick={e => gameListService.openGame()}>Open New Game</button>\n      </div>\n\n      <table className=\"gameList\">\n        <tr>\n          <th>Game Status</th>\n          <th>Game Name</th>\n          <th>No of Players</th>\n          <th>Players</th>\n        </tr>\n        {\n          gameListService.activeGames.map(game => (\n            <tr>\n              <td>{\n                game.gameState === GameStateEnum.OPEN &&\n                  <button\n                    onClick={e => gameListService.joinGame(game)}\n                  >Join</button>\n                  || game.gameState\n              }</td>\n              <td>{game.gameName}</td>\n              <td>{game.players.length}</td>\n              <td>{\n                game.players.map((player, idx) =>\n                  player.username +\n                  (game.players.length-1 === idx ? '' : ', ')\n                )}\n              </td>\n            </tr>\n            )\n        )}\n      </table>\n\n    </div>\n  )\n}\n","import { useState } from 'react';\n\nimport './App.scss';\nimport Menu from './components/menu'\nimport { Game } from './components/game'\nimport { GameList } from './components/gameList'\n\nimport { routeStates } from './model/routeStates.model'\n\nfunction App() {\n\n  const routeState = useState<String>(routeStates.GAMELIST)\n  const [route, setRoute] = routeState\n\n  return (\n    <div className=\"App\">\n\n      <Menu routeState={routeState} />\n\n      {route === routeStates.GAMELIST && <GameList setRoute={setRoute}/>}\n      {route === routeStates.GAME && <Game setRoute={setRoute}/>}\n\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GameService = void 0;\nvar game_1 = require(\"../gamelogic/game\");\nvar player_1 = require(\"../gamelogic/player\");\nvar GameService = /** @class */ (function () {\n    function GameService(args) {\n        var _this = this;\n        this.initPlayers = function (args) {\n            var _a;\n            (_a = args === null || args === void 0 ? void 0 : args.players) === null || _a === void 0 ? void 0 : _a.map(function (playerstub, idx) { return _this.players[idx] = new player_1.Player(playerstub, idx + 1); });\n        };\n        this.checkCurrentPlayerByID = function (userID) {\n            return userID === _this.game.currentPlayer.userID;\n        };\n        this.dispatchAbility = function (applyingUnit, unitAbility, recivingUnit, recivingUnits) { };\n        this.callApplyAbility = function (applyingUnitID, unitAbilityName, recivingUnitID, recivingUnitIDs) {\n            var applyingUnit = _this.getUnitbyUnitID(applyingUnitID);\n            var unitAbility = applyingUnit.abilities.filter(function (ability) { return ability.name === unitAbilityName; })[0];\n            var recivingUnit = _this.getUnitbyUnitID(recivingUnitID);\n            var recivingUnits = recivingUnitIDs.map(function (recivingUnitID) { return _this.getUnitbyUnitID(recivingUnitID); });\n            if (applyingUnit.life > 0)\n                _this.game.applyAbility(applyingUnit, unitAbility, recivingUnit, recivingUnits);\n            return false;\n        };\n        this.createUnitID = function (unit) {\n            return [unit.player.id, unit.id];\n        };\n        this.getUnitbyUnitID = function (unitID) {\n            return _this.game.units.filter(function (unit) { return unit.player.id == unitID[0] && unit.id == unitID[1]; })[0];\n        };\n        // public unitCountByPlayer = ():void => {\n        //   this.players.map(player => ({\n        //     player: player.name,\n        //     unitCount: this.game.units.filter(unit => unit.player.name == player.name).length,\n        //     unitlife: this.game.units.map(unit => unit.life)\n        //   }))\n        // }\n        this.endGame = function (winner) { var _a; return (_a = _this.gameServiceObserver) === null || _a === void 0 ? void 0 : _a.endGame(winner); };\n        this.players = [];\n        this.initPlayers(args);\n        this.gameServiceObserver = args.gameServiceObserver;\n        this.gameID = (args === null || args === void 0 ? void 0 : args.gameID) || '0';\n        this.game = new game_1.Game({\n            gameService: this,\n            players: this.players,\n        });\n    }\n    return GameService;\n}());\nexports.GameService = GameService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GameStateEnum = void 0;\nvar GameStateEnum;\n(function (GameStateEnum) {\n    GameStateEnum[\"OPEN\"] = \"Open\";\n    GameStateEnum[\"STARTED\"] = \"Started\";\n    GameStateEnum[\"FINISHED\"] = \"Finished\";\n})(GameStateEnum = exports.GameStateEnum || (exports.GameStateEnum = {}));\n;\n"],"sourceRoot":""}